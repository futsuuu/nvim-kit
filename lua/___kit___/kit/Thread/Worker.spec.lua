local Worker = require('___kit___.kit.Thread.Worker')

describe('kit.Thread.Worker', function()
  it('should work basic usage', function()
    vim.pretty_print('start')
    local worker = Worker.new(function(path)
      require('___kit___.kit.IO').walk(path, function(_, entry)
        print(entry.path)
      end):sync()
    end)
    worker('./fixture'):sync()
    vim.pretty_print('finish')
  end)
end)
